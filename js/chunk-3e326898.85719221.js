(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e326898"],{"2dc8":function(e,t,r){"use strict";var a=r("a4a4"),n=r.n(a);n.a},a4a4:function(e,t,r){},ec4d:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"userResult"},[null!==e.overviewData?r("Overview",{attrs:{"chart-data":e.overviewData,highlight:e.highlight,"quiz-total-score":e.quizTotalScore}}):e._e(),e.answerGroup?r("Individual",{attrs:{chartdata:e.answerGroup.answerList,"answer-group":e.answerGroup,"overall-quiz-data":e.overallQuizData}}):e._e()],1)},n=[],s=(r("d81d"),r("d3b7"),r("25f0"),r("96cf"),r("1da1")),o=r("d96f"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"personal"},[r("div",{staticClass:"container"},[r("h1",[e._v(e._s(e.$t("簡易報告")))]),r("div",{staticClass:"performance"},[r("p",[e._v(e._s(e.$t("作答者："))),r("span",{staticStyle:{"font-weight":"900"}},[e._v(" "+e._s(e.answerGroup.user.name)+" ")])]),r("table",[r("tr",[r("th",[e._v(e._s(e.$t("項目")))]),r("th",[e._v(e._s(e.$t("個人表現")))]),r("th",[e._v(e._s(e.$t("全體平均表現")))])]),r("tr",[r("td",[e._v(e._s(e.$t("分數")))]),r("td",[e._v(" "+e._s(e.dataInfo.scoreGot)+" / "+e._s(e.dataInfo.totalScore)+" "+e._s(e.$t("分"))+" ")]),r("td",[e._v(" "+e._s(e.dataInfo.overallScoreAvg)+" / "+e._s(e.dataInfo.totalScore)+" "+e._s(e.$t("分"))+" ")])]),r("tr",[r("td",[e._v(e._s(e.$t("平均每題花費時間")))]),r("td",[e._v(" "+e._s(e.dataInfo.averageTimeSpent)+" "+e._s(e.$t("秒"))+" ")]),r("td",[e._v(" "+e._s(e.dataInfo.averageOverallTimeSpend)+" "+e._s(e.$t("秒"))+" ")])]),r("tr",[r("td",[e._v(e._s(e.$t("總花費時間")))]),r("td",[e._v(" "+e._s(e.$tc("n秒",e.dataInfo.timeSpent,{n:e.dataInfo.timeSpent}))+" ")]),r("td",[e._v(" "+e._s(e.$tc("n秒",e.dataInfo.overallTimeSpend,{n:e.dataInfo.overallTimeSpend}))+" ")])])])]),r("div",{staticClass:"style-content"},[r("h1",[e._v(e._s(e.$t("詳細資訊")))]),r("div",{staticClass:"result-area"},e._l(e.answerGroup.answerList,(function(t,a){return r("div",{key:a,staticClass:"group-btn",class:{active:e.displayIndex===a},on:{click:function(t){return e.selectOne(a)}}},[r("div",{staticClass:"number"},[e._v(" "+e._s(a+1)+" ")]),r("div",{staticClass:"result"},[t.userAnswerSet?e._e():r("i",{staticClass:"fas fa-question no-answer"}),0===t.sourceQuiz.answerSet.length?r("i",{staticClass:"fas fa-minus no-answer"}):e._e(),e.answerResult(t)?r("i",{staticClass:"fas fa-check correct"}):e._e(),e.answerResult(t)?e._e():r("i",{staticClass:"fas fa-times incorrect"})])])})),0),e._l(e.answerGroup.answerList,(function(t,a){return r("div",{key:a,staticClass:"detail-area"},[r("transition",{attrs:{name:"fade"}},[e.displayIndex===a?r("div",{staticClass:"detail"},[r("div",{staticClass:"mb-4 text-center"},[e._v(" "+e._s(e.$t("第n題",{n:a+1}))+" ")]),r("div",{staticClass:"option"},[t.sourceQuiz.enableAudio&&t.sourceQuiz.audioUrl?r("audio",{attrs:{controls:"",controlsList:"nodownload"}},[r("source",{attrs:{src:t.sourceQuiz.audioUrl,type:"audio/mp4"}})]):e._e(),r("img",{staticClass:"option-img",attrs:{src:t.sourceQuiz.previewImage.url+"/240"}})]),r("table",[r("tr",[r("td",[e._v(e._s(e.$t("題型")))]),"single"!==t.sourceQuiz.answerType||t.sourceQuiz.multipleSelect?e._e():r("td",[e._v(" "+e._s(e.$t("單選題"))+" ")]),t.sourceQuiz.multipleSelect?r("td",[e._v(" "+e._s(e.$t("複選題"))+" ")]):e._e(),t.sourceQuiz.answerType||t.sourceQuiz.multipleSelect?e._e():r("td",[e._v(" "+e._s(e.$t("無設定答案"))+" ")])]),r("tr",[r("td",[e._v(e._s(e.$t("我的答案")))]),r("td",e._l(t.userAnswerSet,(function(a,n){return r("span",{key:n,class:{"no-answer":!t.userAnswerSet||0===t.userAnswerSet.length||!t.sourceQuiz.answerSet,correct:t.userAnswerSet&&t.userAnswerSet.length>0&&t.sourceQuiz.answerSet&&e.answerResult(t),incorrect:t.userAnswerSet&&t.userAnswerSet.length>0&&t.sourceQuiz.answerSet&&!e.answerResult(t)}},[e._v(" "+e._s(a)+" ")])})),0)]),r("tr",[r("td",[e._v(e._s(e.$t("本題的答案")))]),t.sourceQuiz.answer?r("td",[e._v(" "+e._s(t.sourceQuiz.answer)+" ")]):e._e(),r("td",e._l(t.sourceQuiz.answerSet,(function(t,a){return r("span",{key:a},[e._v(" "+e._s(t)+" ")])})),0)]),r("tr",[r("td",[e._v(e._s(e.$t("我花的時間")))]),r("td",[e._v(e._s(e.$tc("n秒",t.timeSpent,{n:t.timeSpent})))])]),e.overallQuizData[a]?r("tr",[r("td",[e._v(e._s(e.$t("平均花費時間")))]),r("td",[e._v(e._s(e.getTimeSpent(a))+" "+e._s(e.$t("秒")))])]):e._e(),e.overallQuizData[a]?r("tr",[r("td",[e._v(e._s(e.$t("平均得分")))]),r("td",[e._v(e._s(e.getSocreAvg(a)))])]):e._e()])]):e._e()])],1)}))],2)])])},u=[],c=(r("4160"),r("159b"),r("d234")),l={props:{answerGroup:{type:Object,required:!0},overallQuizData:{type:Array,required:!0}},data:function(){return{displayIndex:0}},computed:{dataInfo:function(){var e={dataLength:this.answerGroup.sourceQuizGroupSize,totalScore:this.answerGroup.totalScore,scoreGot:0,timeSpent:0,averageTimeSpent:0,overallScoreAvg:0,overallTimeSpend:0,averageOverallTimeSpend:0};return e.scoreGot=c["a"].formatFloat(this.answerGroup.scoreGot),e.timeSpent=c["a"].formatFloat(this.answerGroup.timeSpent),e.averageTimeSpent=c["a"].formatFloat(e.timeSpent/e.dataLength),this.overallQuizData.forEach((function(t){e.overallScoreAvg+=t.scoreAvg,e.overallTimeSpend+=t.timeSpent})),e.overallScoreAvg=parseInt(e.overallScoreAvg,10),e.overallTimeSpend=c["a"].formatFloat(e.overallTimeSpend/e.dataLength),e.averageOverallTimeSpend=c["a"].formatFloat(e.overallTimeSpend/e.dataLength),e}},created:function(){console.log(this.answerGroup)},methods:{answerResult:function(e){for(var t=!1,r=e.userAnswerSet,a=e.sourceQuiz.answerSet,n=0;n<a.length;n+=1)if(a.length===r.length){if(a[n]!==r[n]){t=!1;break}t=!0}else t=!1;return t},selectOne:function(e){this.displayIndex=e},getTimeSpent:function(e){var t=0;return t=c["a"].formatFloat(this.overallQuizData[e].timeSpent),t},getSocreAvg:function(e){var t=0;return console.log("scoreAvg:",this.overallQuizData[e].scoreAvg),t=this.overallQuizData[e].scoreAvg,t}}},v=l,d=(r("2dc8"),r("2877")),p=Object(d["a"])(v,i,u,!1,null,"b3b34bae",null),_=p.exports,m=r("75ca"),f={components:{Overview:o["a"],Individual:_},data:function(){return{overviewData:null,highlight:null,peopleLength:0,answerGroup:null,overallQuizData:[],quizTotalScore:0,quizGroupId:null,personalQuizData:[]}},computed:{individualInfo:function(){return this.$store.state.individualInfo},currentLang:function(){return this.$store.state.currentLang}},watch:{currentLang:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.reDrawChart();case 2:case"end":return t.stop()}}),t)})))()}},created:function(){},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.reDrawChart();case 2:return r=e.$route.query.lang,r&&(e.$i18n.locale=r),e.$store.commit("updateCurrentLang",r),e.$store.commit("updateLoading",!0),t.prev=6,t.next=9,e.fetchData();case 9:t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](6),e.$router.push({name:"NoData"}),console.error(t.t0);case 15:return t.prev=15,e.$store.commit("updateLoading",!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[6,11,15,18]])})))()},methods:{reDrawChart:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("updateLoading",!0),t.prev=1,t.next=4,e.fetchData();case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](1),e.$router.push({name:"NoData"}),console.error(t.t0);case 10:return t.prev=10,e.$store.commit("updateLoading",!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,6,10,13]])})))()},fetchData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.$route.query,r.userId,a=r.quizGroupId,r.ansGroupId,e.quizGroupId=a,n=e.$route.params.answerGroupId,n){t.next=5;break}throw new Error("未提供必要參數");case 5:return s=6600,t.next=8,m["a"].retrieve(n);case 8:return e.answerGroup=t.sent,e.quizTotalScore=e.answerGroup.totalScore,e.highlight={label:e.$t("我的表現").toString(),y:e.answerGroup.scoreGot,x:c["a"].formatFloat(e.answerGroup.timeSpent)},t.prev=11,t.next=14,m["a"].getOverviewV2(e.answerGroup.sourceQuizGroupId);case 14:return o=t.sent,e.overviewData=o.map((function(e){return{x:e.timeSpent>s?s:c["a"].formatFloat(e.timeSpent),y:e.scoreGot}})),e.peopleLength=e.overviewData.length,t.next=19,m["a"].getAverageDataList(e.answerGroup.sourceQuizGroupId,null);case 19:i=t.sent,e.overallQuizData=i.map((function(e){return{timeSpent:c["a"].formatFloat(e.timeSpent),scoreAvg:c["a"].formatFloat(e.scoreAvg)}})),t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](11),t.t0.response&&404===t.t0.response.status&&e.$notify({type:"warning",text:e.$t("無法載入分析圖表...").toString()});case 26:case"end":return t.stop()}}),t,null,[[11,23]])})))()}}},w=f,h=Object(d["a"])(w,a,n,!1,null,"71b4f303",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-3e326898.85719221.js.map